---
description: 复制监视器界面概述
title: 复制监视器界面概述 | Microsoft Docs
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Replication Monitor
- Replication Monitor, about Replication Monitor
ms.assetid: 078f0e34-7153-45c4-8725-778b5bef88da
author: MashaMSFT
ms.author: mathoma
monikerRange: =azuresqldb-mi-current||>=sql-server-2016
ms.openlocfilehash: 92101ce00eb74e7a48a7e72b320eb536e4d60022
ms.sourcegitcommit: 1a544cf4dd2720b124c3697d1e62ae7741db757c
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/14/2020
ms.locfileid: "97477818"
---
# <a name="overview-of-the-replication-monitor-interface"></a>复制监视器界面概述
[!INCLUDE[sql-asdbmi](../../../includes/applies-to-version/sql-asdbmi.md)]
  [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 复制监视器提供一个以发布服务器为主的视图或一个以分发服务器为主的视图，以两个窗格的形式显示所有复制活动。 在监视器的左窗格中添加发布服务器后，监视器的右窗格中即显示发布服务器、其发布、对这些发布的订阅和各种复制代理的相关信息。 除了显示有关复制拓扑的信息以外，复制监视器还可用于执行多种任务，如启动和停止代理以及验证数据。  
  
## <a name="viewing-information-for-the-entire-topology"></a>查看整个拓扑的信息  
 复制监视器的左窗格显示  
  
-   发布服务器组、发布服务器和发布内容。  
  
-   分发服务器、发布服务器和发布内容。  
  
 若要在复制监视器中查看任何信息，必须首先添加发布服务器。 有关详细信息，请参阅 [从复制监视器中添加和删除发布服务器](../../../relational-databases/replication/monitor/add-and-remove-publishers-from-replication-monitor.md)。  
  
 左窗格有助于解答下列问题：  
  
-   我的复制系统是否正常？  
  
     如果左窗格中的节点上无错误图标，则复制系统比较正常。 若要详细了解系统运行状况，请查看 **“订阅监视列表”** 选项卡，该选项卡显示了可能需要注意的订阅的相关信息。  
  
-   为什么代理不运行？  
  
     代理未在特定时间运行的原因包括：未安排其运行或出现错误。 如果出现错误，左窗格中的相应节点上将显示错误图标。 例如，如果发布的快照代理因出错而停止，发布服务器组、发布服务器和发布节点上将显示错误图标。 快照代理的摘要信息显示在该发布的 **“代理”** 选项卡中；双击此选项卡上的快照代理可查看详细的错误信息。  
  
## <a name="viewing-information-and-performing-tasks-related-to-distributors"></a>查看与分发服务器相关的信息并执行与其相关的任务  
 复制监视器在三个选项卡上显示分发服务器的相关信息：  
  
-   **“发布”** 选项卡  
  
     此选项卡提供分发服务器上所有发布的摘要信息。  
  
-   **“订阅监视列表”** 选项卡  
  
     此选项卡提供有关所选分发服务器的订阅的信息。 可以筛选订阅列表，以查看有错误的订阅、出现警告的订阅以及所有性能较差的订阅。 使用该选项卡还可以执行以下任务：访问订阅属性、访问与订阅关联的代理的详细信息、重新初始化订阅以及验证订阅。  
  
     **“订阅监视列表”** 选项卡可以帮助解答下列问题：  
  
    -   哪些订阅比较慢？  
  
         设置此选项卡上的选项，使网格按订阅的相对性能顺序显示订阅。  
  
    -   我的复制系统是否正常？  
  
         对于任何需要注意的订阅，此选项卡上的网格都将显示错误图标和警告图标。  
  
     此选项卡对于运行 [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] 或更低版本的分发服务器不可用。  
  
-   **“代理”** 选项卡  
  
     此选项卡显示所有类型的复制所使用的代理和作业的详细信息。 使用此选项卡，还可以启动和停止每个代理和作业。  
  
 复制监视器还为分发服务器节点提供了上下文菜单。 右键单击左窗格中的分发服务器，可以执行以下任务：  
  
-   向复制监视器添加发布服务器。  
  
-   编辑分发服务器的复制监视器设置。  
  
-   切换到“发布服务器组”视图。  
  
## <a name="viewing-information-and-performing-tasks-related-to-publishers"></a>查看与发布服务器相关的信息并执行与其相关的任务  
 复制监视器在三个选项卡上显示发布服务器的相关信息：  
  
-   **“发布”** 选项卡  
  
     此选项卡提供发布服务器上所有发布的摘要信息。  
  
-   **“订阅监视列表”** 选项卡  
  
     此选项卡用于显示所选发布服务器上所有可用发布的订阅的信息。 可以筛选订阅列表，以查看有错误的订阅、出现警告的订阅以及所有性能较差的订阅。 使用该选项卡可以：访问订阅属性、访问与订阅关联的代理的详细信息、重新初始化订阅以及验证订阅。  
  
     **“订阅监视列表”** 选项卡可以帮助解答下列问题：  
  
    -   哪些订阅比较慢？  
  
         设置此选项卡上的选项，使网格按订阅的相对性能顺序显示订阅。  
  
    -   我的复制系统是否正常？  
  
         对于任何需要注意的订阅，此选项卡上的网格都将显示错误图标和警告图标。  
  
     对于运行 [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]之前版本的分发服务器，将不显示此选项卡。  
  
-   **“代理”** 选项卡  
  
     此选项卡显示所有类型的复制所用代理和作业的详细信息。 使用该选项卡，还可以启动和停止每个代理和作业。  
  
 有关详细信息，请参阅[为发布服务器查看信息和执行任务（复制监视器）](../../../relational-databases/replication/monitor/view-information-and-perform-tasks-replication-monitor.md)。  
  
 复制监视器还为发布服务器节点提供了上下文菜单。 右键单击左窗格中的发布服务器，可以执行下列操作：  
  
-   编辑发布服务器的复制监视器设置  
  
-   从复制监视器中删除发布服务器  
  
-   查看和编辑代理配置文件  
  
-   与存储发布服务器信息的分发服务器连接或断开连接  
  
## <a name="viewing-information-and-performing-tasks-related-to-publications"></a>查看与发布相关的信息并执行与其相关的任务  
 复制监视器在三个选项卡和多个详细信息窗口中显示发布的相关信息：  
  
-   **“所有订阅”** 选项卡  
  
     此选项卡显示有关所选发布的所有订阅的信息。 默认情况下，此选项卡按优先级顺序排序：先是有错误的订阅，接着是有警告的订阅，然后是按性能升序排列的订阅，最后，执行不当的订阅位于顶部。  
  
     **“所有订阅”** 选项卡可以帮助解答下列问题：  
  
    -   哪些订阅比较慢？  
  
         设置此选项卡上的选项，使网格按订阅的相对性能顺序显示订阅。  
  
    -   我的复制系统是否正常？  
  
         对于任何需要注意的订阅，此选项卡上的网格都将显示错误图标和警告图标。  
  
-   **“代理”** 选项卡  
  
     此选项卡显示复制所用代理的相关信息。 此选项卡显示有关下列代理的信息：  
  
    -   快照代理，用于所有发布。  
  
    -   日志读取器代理，用于所有事务发布。  
  
    -   队列读取器代理，用于为排队更新订阅启用的事务发布。  
  
     使用该选项卡，还可以执行以下任务：访问每个代理的详细信息，以及启动和停止每个代理。 有关与订阅关联的代理（分发代理和合并代理）的信息，请参阅本主题中的“查看与订阅相关的信息并执行与订阅相关的任务”部分。  
  
-   **“警告”** 选项卡  
  
     使用此选项卡可以为代理指定警告和警报。 有关详细信息，请参阅 [Set Thresholds and Warnings in Replication Monitor](../../../relational-databases/replication/monitor/set-thresholds-and-warnings-in-replication-monitor.md)。  
  
-   **“跟踪令牌”** 选项卡（仅事务复制）  
  
     可以使用此选项卡衡量滞后时间，滞后时间是指从事务在发布服务器上提交到相应的事务在订阅服务器上提交之间间隔的时间。  
  
     此选项卡可以帮助解答下面的问题：  
  
    -   在事务复制中，现在提交的事务要过多久才能到达订阅服务器？  
  
         查看事务通过系统的总时间并将其与先前所用时间进行比较。  
  
     对于运行 [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] 或更低版本的分发服务器，将不显示此选项卡。 有关跟踪令牌的详细信息，请参阅[为事务复制测量滞后时间和验证连接](../../../relational-databases/replication/monitor/measure-latency-and-validate-connections-for-transactional-replication.md)。  
  
-   与发布关联的代理的详细信息窗口。 下列代理与发布相关联：  
  
    -   快照代理，用于所有发布。  
  
    -   日志读取器代理，用于所有事务发布。  
  
    -   队列读取器代理，用于为排队更新订阅启用的事务发布。  
  
     双击复制监视器中的代理，可以访问详细信息窗口中的信息。 除了上面列出的代理之外，与订阅关联的代理还包括：快照和事务发布的订阅的分发代理，以及合并发布的订阅的合并代理。 有关详细信息，请参阅本主题中的“查看与订阅相关的信息并执行与订阅相关的任务”部分。  
  
     代理详细信息窗口提供有关代理会话的信息，包括开始时间、结束时间、持续时间和会话中执行的操作。 这些窗口可以帮助解答下面的问题：  
  
    -   为什么代理不运行？  
  
         可用的错误消息提供代理不运行的详细原因，并为解决与发布关联的代理的问题提供一个起点。  
  
 有关详细信息，请参阅[使用复制监视器查看信息和执行任务](../../../relational-databases/replication/monitor/view-information-and-perform-tasks-replication-monitor.md)。  
  
 复制监视器还为发布节点提供了上下文菜单。 右键单击左窗格中的发布，可以执行下列操作：  
  
-   重新初始化发布的所有订阅  
  
-   验证发布的所有订阅  
  
-   为发布生成快照  
  
-   查看和编辑发布属性  
  
## <a name="viewing-information-and-performing-tasks-related-to-subscriptions"></a>查看与订阅相关的信息并执行与订阅相关的任务  
 复制监视器在多个不同的选项卡上显示订阅的相关信息。 双击复制监视器中的订阅，可以访问详细信息窗口中的这些选项卡。 对于解答“为什么代理不运行”这个问题，所有选项卡都很有用。 可用的错误消息提供代理不运行的详细原因，并为解决与订阅关联的代理的问题提供一个起点。  
  
-   **“所有订阅”** 和 **“订阅监视列表”**  
  
     本主题的前面已对这两个选项卡进行了说明。  
  
-   **“发布服务器到分发服务器的历史记录”** 选项卡（仅事务复制）  
  
     此选项卡显示发布的日志读取器代理的信息（该选项卡与日志读取器代理详细信息窗口的作用相同）。  
  
-   **“分发服务器到订阅服务器的历史记录”** 选项卡（快照复制和事务复制）  
  
     此选项卡显示订阅的分发代理的信息。  
  
-   **“未分发的命令”** 选项卡（仅事务复制）  
  
     此选项卡显示分发数据库中未传递到所选订阅服务器的命令数以及传递那些命令的估计时间。 该选项卡可以帮助解答问题“我的订阅滞后多久？” 对于运行 SQL Server 2005 之前版本的分发服务器，将不显示此选项卡。  
  
-   **“同步历史记录”** 选项卡（仅合并复制）  
  
     此选项卡显示订阅的合并代理的信息。 此选项卡可以帮助解答下面的问题：  
  
    -   为什么我的合并订阅比较慢？  
  
         此选项卡提供同步过程中处理的每个项目的详细统计信息，包括每个处理阶段（上载更改、下载更改等）所用的时间。 该选项卡可以帮助准确定位导致减速的特定表，并且是解决合并订阅的性能问题的最佳位置。  
  
 有关详细信息，请参阅[使用复制监视器查看信息和执行任务](../../../relational-databases/replication/monitor/view-information-and-perform-tasks-replication-monitor.md)。
  
## <a name="viewing-information-and-performing-tasks-related-to-agent-profiles"></a>查看与代理配置文件相关的信息并执行与其相关的任务  
 复制监视器中包含多个管理代理配置文件的对话框。 代理配置文件是代理的参数集，用于确定代理的行为。 有关详细信息，请参阅 [Replication Agent Profiles](../../../relational-databases/replication/agents/replication-agent-profiles.md)。 这些对话框包括：  
  
-   **代理配置文件**  
  
     使用此对话框可以：更改配置文件的属性、创建和删除配置文件、指定默认配置文件，以及指定某特定类型的所有代理（如快照代理）应使用给定配置文件。  
  
-   **\<AgentProfileName> 属性**  
  
     使用此对话框可以查看和编辑配置文件中的参数设置。  
  
-   **新建代理配置文件**  
  
     使用此对话框可以创建新的配置文件，可以选择包括现有配置文件的值。  
  
## <a name="see-also"></a>另请参阅  
 [监视复制](../../../relational-databases/replication/monitor/monitoring-replication.md)  
  
  
